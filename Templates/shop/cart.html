{% extends "base.html" %}

{% block title %}Shopping Cart - StreetWear Hub{% endblock %}

{% block content %}
<h2>ðŸ›’ Shopping Cart</h2>

{% if cart %}
    <table style="width: 100%; border-collapse: collapse;">
        <tr style="background: #f9f9f9;">
            <th style="padding: 10px; border: 1px solid #ddd;">Product</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Variant</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Price</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Qty</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Total</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Action</th>
        </tr>
        {% for item in cart %}
            <tr>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ item.product_name }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ item.variant_text }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">â‚¹{{ item.price }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">
                    <form method="post" action="{% url 'update_cart_quantity' forloop.counter0 %}" style="display: inline;">
                        {% csrf_token %}
                        <input type="number" name="quantity" value="{{ item.quantity }}" min="1" max="10" style="width: 50px;">
                        <button type="submit" style="padding: 5px 10px;">Update</button>
                    </form>
                </td>
                <td style="padding: 10px; border: 1px solid #ddd;">â‚¹{{ item.price|floatformat:2 }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">
                    <a href="{% url 'remove_from_cart' forloop.counter0 %}" style="color: red;">Remove</a>
                </td>
            </tr>
        {% endfor %}
    </table>

    <hr>
    <h3>Total: â‚¹{{ total|floatformat:2 }}</h3>
    <a href="{% url 'checkout' %}" style="display: inline-block; padding: 15px 30px; background: #28a745; color: white; text-decoration: none; border-radius: 5px; font-size: 16px;">Proceed to Checkout</a>
    <a href="{% url 'product_list' %}">Continue Shopping</a>
{% else %}
    <p>Your cart is empty. <a href="{% url 'product_list' %}">Shop now</a></p>
{% endif %}
{% endblock %}
